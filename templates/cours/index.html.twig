{% extends 'TemplateFront.html.twig' %}

{% block title %}Tous les cours{% endblock %}
{% block body %}

    <div id='calendar'></div>
    <br>

    <a href="{{ path('app_cours_new') }}" class="btn btn-info">Créer Cours</a>
    <br>
    <br>

    <table class="table">
        <thead class="thead-light">
        <tr>
            <th scope="col">id</th>
            <th scope="col">Libelle</th>
            <th scope="col">Description</th>
            <th scope="col">Date</th>
            <th scope="col">Frais</th>
            <th scope="col">Niveau</th>

            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for courser in coursers %}
            <tr>
                <td>{{ courser.id }}</td>
                <td>{{ courser.libelle }}</td>
                <td>{{ courser.description }}</td>
                <td>{{ courser.date | date('d/m/Y')}}</td>
                <td>{{ courser.frais }}</td>
                <td>{{ courser.idniveau.niveau }}</td>
                <td>
                    <a href="/cours/edit/{{ courser.id }}" class="btn btn-warning">Modifier</a>
                    <a href="/cours/delete/{{ courser.id }}" class="btn btn-danger" onclick="return confirm('Etes-vous sûr de supprimer ?');">Supprimer</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}
{% block js %}
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@5.3.0/main.min.js"></script>

    <script>

        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    start: 'prev,next today',
                    center: 'title',
                    end: 'dayGridMonth,timeGridWeek'
                },
                events: {{  data|raw }},

                editable: false
            });
            calendar.render();
        });

    </script>


{% endblock %}
